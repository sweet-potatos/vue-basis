<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="../js/vue.js"></script>
	</head>
	<body>
		<div id="root">
			<button @click="updateData">更新信息</button>
			<ul>
				<li v-for="(item, index) in persons" :key="item.id">
					{{item.name}}-{{item.age}}-{{item.sex}}
				</li>
			</ul>
		</div>
		<script type="text/javascript">
			// 点击按钮调用方法的时候的确把内存中数据更改了，但是Vue没有监测到本次更改
			const vm = new Vue({
				el: '#root',
				data(){
					return {
						persons: [
							{id: '001', name: '马冬梅', age: 30, sex: '女'},
							{id: '002', name: '周冬雨', age: 22, sex: '女'},
							{id: '003', name: '周杰伦', age: 40, sex: '男'},
							{id: '004', name: '温兆伦', age: 50, sex: '男'}
						],
					}
				},
				methods: {
					updateData(){
						// 没问题
						/*
						this.persons[0].name = '马老师',
						this.persons[0].age = 50,
						this.persons[0].sex = '男'
						*/
						
						//出问题
						this.persons[0] = {id: '001', name: '马老师', age: 50, sex: '男'}
						
						console.log('this.persons', this.persons);
					}
				}
			});
		</script>
	</body>
</html>
