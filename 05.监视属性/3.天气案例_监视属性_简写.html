<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="../js/vue.js"></script>
	</head>
	<body>
		<div id="root">
			<div>{{isHot}}</div>
			<div>今天的天气很{{weather}}</div>
			<button @click="changeWeather">切换天气</button>
			<hr />
			<div>是否$watch监听：{{vmString}}</div>
			<button @click="changeIsVmString">切换isVmWatch</button>
		</div>
	</body>
	<script type="text/javascript">
		const vm = new Vue({
			el: '#root',
			data(){
				return {
					isHot: false,
					isVmWatch: true,
				}
			},
			computed: {
				weather(){
					return this.isHot ? '炎热' : '凉爽'
				},
				vmString(){
					return this.isVmWatch ? '是' : '否'
				}
			},
			watch: {
				//正常写法
				/*
				isHot: {
					// immediate: true, // 是否立即监视
					// deep: true,  // 深度监视
					handler(newValue, oldValue){
						console.log('newValue', newValue);
						console.log('oldValue', oldValue);
					}
				},
			 */
				
				//简写
				isHot(newValue, oldValue){
					console.log('newValue', newValue);
					console.log('oldValue', oldValue);
				}
			},
			methods: {
				changeWeather(){
					this.isHot = !this.isHot;
				},
				changeIsVmString(){
					this.isVmWatch = !this.isVmWatch;
				}
			}
		});
		
		// 正常写法
		/*
		vm.$watch('isVmWatch', {
			// immediate: true, // 是否立即监视
			// deep: true,  // 深度监视
			handler(newValue, oldValue){
				console.log('newValue', newValue);
				console.log('oldValue', oldValue);
			}
		})
		*/
		
		// 简写
		vm.$watch('isVmWatch', function(newValue, oldValue){
			console.log('newValue', newValue);
			console.log('oldValue', oldValue);
		})
	</script>
</html>
