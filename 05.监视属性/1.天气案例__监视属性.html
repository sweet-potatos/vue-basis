<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="../js/vue.js"></script>
	</head>
	<body>
		<div id="root">
			<div>{{isHot}}</div>
			<div>今天的天气很{{weather}}</div>
			<button @click="changeWeather">切换天气</button>
		</div>
	</body>
	<script type="text/javascript">
		/*
		 * 监视属性watch
		 * 	1.当被监视的属性变化时，回调函数自动调用，进行相关操作
		 * 	2.监视的属性要存在才能进行监视
		 * 	3.监视的两种写法:
		 * 		new Vue时传入watch配置
		 * 		通过vm.$watch监视
		 */
		const vm = new Vue({
			el: '#root',
			data(){
				return {
					isHot: false
				}
			},
			computed: {
				weather(){
					return this.isHot ? '炎热' : '凉爽'
				}
			},
			watch: { // 计算属性也可以监视，如果监视的值不存在也不会报错只会undefined
				isHot: { // 要监视的对象
					handler: function(newVal, oldVal) { // 监视的方法
						console.log('newVal', newVal);
						console.log('oldVal', oldVal);
					},
					immediate: true // 是否立即监视
				},
				weather: {
					handler: function(newVal, oldVal) { // 监视的方法
						console.log('newVal', newVal);
						console.log('oldVal', oldVal);
					},
				}
			},
			methods: {
				changeWeather(){
					this.isHot = !this.isHot;
				},
			}
		});
	</script>
</html>
